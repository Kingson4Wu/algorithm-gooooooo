package _025

import (
	"fmt"
	"testing"
)

/*
*
用一个stack保存为处理完的下标， stack 的下标对应的数值是单调递减的
用结果数组ans直接计数(效率太低)- 记录一个总的即可 ， 计数就是两个下标相减呀。。。

超时，不想了，看答案吧
*/
func dailyTemperatures(temperatures []int) []int {

	n := len(temperatures)
	ans := make([]int, n)
	var stack []int
	stack = append(stack, 0)
	for i := 1; i < n; i++ {
		for k := len(stack) - 1; k >= 0; k-- {
			if temperatures[i] > temperatures[stack[k]] {
				//两个下标相减就是结果
				ans[stack[k]] = i - stack[k]
				stack = stack[0 : len(stack)-1]
			} else {
				// stack 是单调递减的
				break
			}
		}
		stack = append(stack, i)
	}
	return ans
}

/**
执行用时分布
5
ms
击败
74.82%
复杂度分析
消耗内存分布
10.57
MB
击败
19.26%
*/

/**
超出时间限制
47 / 48 个通过的测试用例
最后执行的输入
添加到测试用例
temperatures =
[99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,
*/

func TestDailyTemperatures(t *testing.T) {
	fmt.Println(dailyTemperatures([]int{73, 74, 75, 71, 69, 72, 76, 73}))
	fmt.Println(dailyTemperatures([]int{30, 40, 50, 60}))
	fmt.Println(dailyTemperatures([]int{30, 60, 90}))
}

/**
[1 1 4 2 1 1 0 0]
[1 1 1 0]
[1 1 0]
*/
